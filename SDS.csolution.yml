solution:
  description: SDS recorder/player reference example
  created-for: CMSIS-Toolbox@2.9.0
  cdefault:

  # List of tested compilers that can be selected
  select-compiler:
    - compiler: AC6
    - compiler: GCC

  # List of miscellaneous tool-specific controls
  misc:
    - for-compiler: AC6 # GDB requires DWARF 5, remove when using uVision Debugger
      C-CPP:
        - -gdwarf-5
      ASM:
        - -gdwarf-5

  packs:
    - pack: ARM::SDS # search SDS pack for layers
    - pack: AlifSemiconductor::Ensemble
    - pack: ARM::CMSIS@6.0.0
    - pack: ARM::CMSIS-RTX@^5.9.0
    - pack: ARM::CMSIS-DSP@1.15.0
    - pack: ARM::CMSIS-NN@4.1.0

  # List different hardware targets that are used to deploy the solution.
  target-types:
    - type: Alif-DevKit
      device: AE722F80F55D5LS
      board: DevKit-E7:Gen 2
      variables:
        - Board-Layer: $SolutionDir()$/Board/DevKit-E7_M55_HP/Board_HP.clayer.yml
        - SDSIO-Layer: $SolutionDir()$/sdsio/network/sdsio_network.clayer.yml
      target-set:
        - set:
          images:
            - project-context: EdgeImpulse.DebugRec
          debugger:
            name: JLink Server
            port: 3333
            protocol: swd
      define:
        - ETHOSU55
        - EI_ETHOS
        - EI_ALIF_ADDR_TRANSLATION
        - ARM_NPU
        - ETHOS_U_NPU_ID: 55
        - ETHOS_U_NPU_MEMORY_MODE: Shared_Sram
        - ETHOS_U_NPU_CONFIG_ID: H256
        - NPU_QCONFIG: 1
        - NPU_REGIONCFG_0: 1
        - NPU_REGIONCFG_1: 0
        - NPU_REGIONCFG_2: 1
        - AXI_LIMIT0_MEM_TYPE: 3
        - AXI_LIMIT1_MEM_TYPE: 3
        - AXI_LIMIT2_MEM_TYPE: 3
        - AXI_LIMIT3_MEM_TYPE: 3
        - TF_LITE_STATIC_MEMORY
        - RTE_BMI323_INT_IO_PORT: 8
        - FAKE_DATA: 0
        - USE_OLD_IMU: 0
        - ALIF_TARGET
    - type: Alif-AppKit
      device: AE722F80F55D5LS
      board: AppKit-E7-AIML:Gen 2
      variables:
        - Board-Layer: $SolutionDir()$/Board/AppKit-E7_M55_HP/Board_HP.clayer.yml
        - SDS_Interface-Layer: $SolutionDir()$/SDS_Interface/USB/SDS_Interface.clayer.yml
        - SDSIO-Layer: $SolutionDir()$/sdsio/usb/sdsio_usb.clayer.yml
          copied-from: ${CMSIS_PACK_ROOT}/ARM/SDS/2.0.0/layer/sdsio/usb/sdsio_usb.clayer.yml
      target-set:
        - set:
          debugger:
            name: JLink Server
            start-pname: M55_HP
          images:
            - project-context: EdgeImpulse.DebugRec
      define:
        - ETHOSU55
        - EI_ETHOS
        - EI_ALIF_ADDR_TRANSLATION
        - ARM_NPU
        - ETHOS_U_NPU_ID: 55
        - ETHOS_U_NPU_MEMORY_MODE: Shared_Sram
        - ETHOS_U_NPU_CONFIG_ID: H256
        - NPU_QCONFIG: 1
        - NPU_REGIONCFG_0: 1
        - NPU_REGIONCFG_1: 0
        - NPU_REGIONCFG_2: 1
        - AXI_LIMIT0_MEM_TYPE: 3
        - AXI_LIMIT1_MEM_TYPE: 3
        - AXI_LIMIT2_MEM_TYPE: 3
        - AXI_LIMIT3_MEM_TYPE: 3
        - TF_LITE_STATIC_MEMORY
        - RTE_BMI323_INT_IO_PORT: 8
        - FAKE_DATA: 0
        - USE_OLD_IMU: 0
        - ALIF_TARGET

    - type: B-U585I-IOT02A_USB
      device: STMicroelectronics::STM32U585AIIx
      board: STMicroelectronics::B-U585I-IOT02A:Rev.C
      variables:
        - Board-Layer: $SolutionDir()$/Board/B-U585I-IOT02A/USBD_WiFi_Sensors_GCC/Board.clayer.yml
        - SDS_Interface-Layer: $SolutionDir()$/SDS_Interface/USB/SDS_Interface.clayer.yml
        - SDSIO-Layer: $SolutionDir()$/sdsio/usb/sdsio_usb.clayer.yml
          copied-from: ${CMSIS_PACK_ROOT}/ARM/SDS/2.0.0/layer/sdsio/usb/sdsio_usb.clayer.yml
      define:
        - ST_TARGET
    - type: STM32H735G-DK_USB
      device: STM32H735IGKx
      board: STM32H735G-DK:Rev.B
      variables:
        - Board-Layer: $SolutionDir()$/Board/STM32H735G-DK/Board.clayer.yml
        - SDS_Interface-Layer: $SolutionDir()$/SDS_Interface/USB/SDS_Interface.clayer.yml
      define:
        - ST_TARGET
    - type: AVH-SSE-300 # simulator target
      board: ARM::V2M-MPS3-SSE-300-FVP
      device: ARM::SSE-300-MPS3
      define:
        - SIMULATOR
      variables:
        - Board-Layer: $SolutionDir()$/Board/Corstone-300/Board-U55.clayer.yml
        - SDSIO-Layer: $SolutionDir()$/sdsio/fvp/sdsio_fvp.clayer.yml
      target-set:
        - set:
          images:
            - project-context: EdgeImpulse.DebugPlay
          debugger:
            name: JLink Server
            port: 3333
            protocol: swd

  # List of different build configurations.
  build-types:
    - type: DebugRec
      debug: on
      optimize: debug

    - type: DebugPlay
      debug: on
      optimize: debug
      define:
        - SDS_PLAY: 1

    - type: ReleaseRec
      debug: off
      optimize: balanced

    - type: ReleasePlay
      debug: off
      optimize: balanced
      define:
        - SDS_PLAY: 1

  # List related projects.
  projects:
    - project: edge-impulse/EdgeImpulse.cproject.yml
  compiler: GCC
